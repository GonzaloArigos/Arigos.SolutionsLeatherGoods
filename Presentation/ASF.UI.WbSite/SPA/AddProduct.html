<style>
    .kv-avatar .krajee-default.file-preview-frame, .kv-avatar .krajee-default.file-preview-frame:hover {
        margin: 0;
        padding: 0;
        border: none;
        box-shadow: none;
        text-align: center;
    }

    .kv-avatar {
        display: inline-block;
    }

        .kv-avatar .file-input {
            display: table-cell;
            width: 213px;
        }

    .kv-reqd {
        color: red;
        font-family: monospace;
        font-weight: normal;
    }
</style>



<form ng-show="!OK" class="form-horizontal">
    <h1>Agregar producto</h1>
    <div class="form-group">
        <label class="col-md-4 control-label" for="_codigo">Imagen del producto</label>
        <div class="col-md-4">

                <img style="height:240px;width:280px;" src="data:{{Image.ContentType}};base64, {{Image.Archivo}}" />

            <button ng-model="files" class="btn btn-black" type="file" ngf-select="uploadFiles($file, $invalidFiles)"
                    accept="image/*" ngf-max-height="3000" ngf-max-size="3MB">
                Subir imagen
            </button>
            <br><br>
            <!--File:
    <div style="font:smaller; text-decoration:underline;color:blue;">
        {{f.name}} {{errFile.name}} {{errFile.$error}} {{errFile.$errorParam}}
        <span class="progress" ng-show="f.progress >= 0">
            <div style="width:{{f.progress}}%"
                 ng-bind="f.progress + '%'"></div>
        </span>
    </div>
    {{errorMsg}}-->

            <span class="help-block">Imagen que aparecerá en la publicación.</span>
        </div>
    </div>

    <!-- Text input-->
        <div class="form-group">
            <label class="col-md-4 control-label" for="_codigo">Titulo</label>
            <div class="col-md-4">
                <input ng-model="Producto.Title" id="_codigo" name="_codigo" placeholder="" class="form-control input-md" type="text">
                <span class="help-block">Titulo que aparecerá en la publicación.</span>
            </div>
        </div>

        <!-- Textarea -->
        <div class="form-group">
            <label class="col-md-4 control-label" for="_descricao_completa">Descripcion de la publicación</label>
            <div class="col-md-4">
                <textarea ng-model="Producto.Description" class="form-control" id="_descricao_completa" name="_descricao_completa"></textarea>
            </div>
        </div>

        <!-- Prepended text-->
        <div class="form-group">
            <label class="col-md-4 control-label" for="_preco">Precio</label>
            <div class="col-md-4">
                <div class="input-group">
                    <span class="input-group-addon">$ARG</span>
                    <input ng-model="Producto.Price" id="_preco" name="_preco" class="form-control" placeholder="0,00" required="" type="number">
                </div>

            </div>
        </div>

    <div class="form-group">
        <label class="col-md-4 control-label" for="_preco"></label>
        <div class="col-md-4">
            <div class="input-group">
                <button ng-click="AgregarProducto();" class="btn btn-primary">Publicar!</button>

            </div>

        </div>
    </div>

     
</form>

<div ng-show="OK">
    <br />
    <div style="text-align:center">
        <h2>Producto publicado correctamente!</h2>
        <h3> Acceda a la sección de productos para visualizarlo.</h3>
        <img src="../Images/OK.jpg" />
    </div>
</div>

<script>
var btnCust = '<button type="button" class="btn btn-secondary" title="Add picture tags" ' +
    'onclick="alert(\'Call your custom code here.\')">' +
    '<i class="glyphicon glyphicon-tag"></i>' +
    '</button>';
$("#avatar-1").fileinput({
    overwriteInitial: true,
    maxFileSize: 1500,
    showClose: false,
    showCaption: false,
    browseLabel: '',
    removeLabel: '',
    browseIcon: '<i class="glyphicon glyphicon-folder-open"></i>',
    removeIcon: '<i class="glyphicon glyphicon-remove"></i>',
    removeTitle: 'Cancel or reset changes',
    elErrorContainer: '#kv-avatar-errors-1',
    msgErrorClass: 'alert alert-block alert-danger',
    defaultPreviewContent: '<img src="/uploads/default_avatar_male.jpg" alt="Your Avatar">',
    layoutTemplates: {main2: '{preview} ' +  btnCust + ' {remove} {browse}'},
    allowedFileExtensions: ["jpg", "png", "gif"]
});
</script>